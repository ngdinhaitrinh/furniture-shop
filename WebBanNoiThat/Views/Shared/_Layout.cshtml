<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Title  -->
    <title>Cửa Hàng Bán Đồ Nội Thất</title>

    <!-- Favicon  -->
    <link rel="icon" href="~/asset_client/img/core-img/favicon.ico">
    <link rel="icon" href="~/asset_client/img/banner/bannerHome.png">
    <!-- Core Style CSS -->
    <link rel="stylesheet" href="~/asset_client/css/core-style.css">
    <link rel="stylesheet" href="~/asset_client/css/style1.css">
    <link rel="stylesheet" href="~/asset_client/css/style.css">
    <style>
      

        .footer-logo a{
            color:white;
            font-size:40px
        }
    </style>
</head>

<body>

    <div class="hero_area">

        <header class="header_section">
            <div class="container">
                <nav class="navbar navbar-expand-lg custom_nav-container ">
                    <a class="navbar-brand" asp-controller="Home" asp-action="Index">LUVHOS</a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class=""> </span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li class="nav-item active">
                                <a class="nav-link" asp-action="Index" asp-controller="Home">Home <span class="sr-only">(current)</span></a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link" asp-action="Index" asp-controller="SanPham">Cửa hàng</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="blog_list.html">Góc cảm hứng</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="contact.html">Liên hệ</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" asp-controller="ShoppingCart" asp-action="Index">
                                    <img class="cart-img-icon" alt="Cart" src="~/asset_client/img/ic-shopping.png">
                                </a>
                            </li>

                            <li class="dropdown show">
                                @if (User.Identity?.IsAuthenticated ?? false)
                                {
                                    <a class="btn btn-info dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                       @User.Identity.Name
                                    </a>
                                     
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                        <li><a class="dropdown-item" asp-controller="Account" asp-action="ChangePassword"><i class="fa fa-sign-in" aria-hidden="true"></i>Đổi mật khẩu</a></li>
                                        <li>
                                            <a class="dropdown-item">
                                                <form class="form-inline" asp-action="Logout" asp-controller="Account" asp-route-returnUrl="@Url.Page("/", new { area = "" })" method="post">
                                                    <button type="submit" class="nav-link btn btn-link ">Đăng xuất</button>
                                                </form>
                                            </a>
                                        </li>
                                    </ul>
                                }
                                else
                                {
                                 <li class="nav-item">

                                    <a class="nav-link" asp-controller="Account" asp-action="Login"><i class="fa fa-sign-in" aria-hidden="true"></i>Đăng nhập</a>
                                </li>
                                }
                            </li>


                        </ul>
                    </div>
                </nav>
            </div>
        </header>
        @RenderBody()
    </div>


    <!-- ##### Footer Area Start ##### -->
    <footer class="footer_area clearfix">
        <div class="container">
            <div class="row align-items-center">
                <!-- Single Widget Area -->
                <div class="col-12 col-lg-4">
                    <div class="single_widget_area">
                        <!-- Logo -->
                        <div class="footer-logo mr-50">
                            <a asp-controller="Home" asp-action="Index">LuvHos</a>
                        </div>
                    </div>
                </div>
                <!-- Single Widget Area -->
                <div class="col-12 col-lg-8">
                    <div class="single_widget_area">
                        <!-- Footer Menu -->
                        <div class="footer_menu">
                            <nav class="navbar navbar-expand-lg justify-content-end">
                                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#footerNavContent" aria-controls="footerNavContent" aria-expanded="false" aria-label="Toggle navigation"><i class="fa fa-bars"></i></button>
                                <div class="collapse navbar-collapse" id="footerNavContent">
                                    <ul class="navbar-nav ml-auto">
                                        <li class="nav-item active">
                                            <a class="nav-link" asp-action="Index" asp-controller="Home">Home</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" asp-action="Index" asp-controller="SanPham">Shop</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="#">Tin Tức</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="#">Liên Hệ</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" asp-action="Index" asp-controller="Home" asp-area="Admin">Go To Admin</a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- ##### Footer Area End ##### -->
    <!-- ##### jQuery (Necessary for All JavaScript Plugins) ##### -->
    <!-- Popper js -->
    <script src="~/asset_client/js/jquery/jquery-2.2.4.min.js"></script>
    <script src="~/asset_client/js/popper.min.js"></script>
    <!-- Bootstrap js -->
    <script src="~/asset_client/js/bootstrap.min.js"></script>
    <!-- Plugins js -->
    <script src="~/asset_client/js/plugins.js"></script>
    <!-- Active js -->
    <script src="~/asset_client/js/active.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    @await RenderSectionAsync("Scripts",required:false)
    <script>
        $(document).ready(function () {
            $('.decrease_button').click(function () {
                var quantityInput = $(this).siblings('.quantity_input');
                var quantity = parseInt(quantityInput.val());
                if (quantity > 1) {
                    quantityInput.val(quantity - 1);
                }
            });

            $('.increase_button').click(function () {
                var quantityInput = $(this).siblings('.quantity_input');
                var quantity = parseInt(quantityInput.val());
                quantityInput.val(quantity + 1);
            });

            $('.add-to-cart').click(function (e) {
                e.preventDefault();
                var quantity = parseInt($(this).siblings('.product_quantity').find('.quantity_input').val());
                var Id = $(this).data('product-id'); // Lấy giá trị của thuộc tính data-productId nếu cần thiết
                // Gửi yêu cầu AJAX hoặc thực hiện hành động khác ở đây với số lượng và productId
                $.ajax({
                    url: "/ShoppingCart/AddToCart",
                    method: "POST",
                    data: { Id: Id, quantity: quantity },
                    success: function (response) {
                        // Xử lý kết quả thành công
                    },
                    error: function () {
                        // Xử lý lỗi
                    }
                });
            });
        });


        $(document).ready(function () {
            $("#toast").hide();

            $("#addToCartButton").click(function (e) {
                e.preventDefault(); // Ngăn chặn hành vi mặc định của nút
                var id = $(this).data('product-id');
                onBuyNow(id);
            });

            function onBuyNow(id) {
                // Thực hiện thao tác thêm sản phẩm vào giỏ hàng với id được truyền vào
                // ...

                // Hiển thị toast message
                $("#toast").fadeIn(400).delay(2000).fadeOut();
            }
        });


        //document.getElementById('myForm').addEventListener('submit', function (e) {
        //    e.preventDefault();  Chặn sự kiện submit mặc định của form

        //    var form = e.target;
        //    var formData = new FormData(form);

        //    fetch(form.action, {
        //        method: 'POST',
        //        body: formData
        //    })
        //        .then(function (response) {
        //            if (response.ok) {
        //                 Xử lý kết quả thành công

        //                console.log('Đặt hàng thành công');
        //            } else {
        //                 Xử lý lỗi
        //                console.log('Đặt hàng thất bại');
        //            }
        //        })
        //        .catch(function (error) {
        //             Xử lý lỗi
        //            console.log('Đã xảy ra lỗi:', error);
        //        });
        //});



    </script>
</body>

</html>